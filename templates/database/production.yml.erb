<%= comment_box "Database Configuration for #{app_name}" %>
<%= comment_box "Generated by Goico - Rails Application Packager" %>
<%= comment_box "This supplements existing config/database.yml" %>

# Production database configuration
# This section was generated by Goico for deployment
# Review and adjust settings as needed for your production environment

production:
  adapter: <%= adapter %>
  encoding: unicode
  database: <%= database %>
  username: <%= username %>
  password: <%= password %>
  host: <%= host %>
  port: <%= port %>
  pool: <%= pool %>
  timeout: <%= timeout %>

  # Connection settings
  checkout_timeout: 5
  reaping_frequency: 10

  # Additional settings
  <% case @analysis[:database] %>
  <% when :postgresql %>
  # PostgreSQL specific settings
  prepared_statements: true
  variables:
    statement_timeout: 15000
  <% when :mysql %>
  # MySQL specific settings
  charset: utf8mb4
  collation: utf8mb4_unicode_ci
  reconnect: true
  <% when :sqlite %>
  # SQLite specific settings
  timeout: 5000
  journal_mode: WAL
  <% end %>