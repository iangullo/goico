# Apache configuration for <%= app_name %>
# Generated by Goico

<VirtualHost *:80>
    ServerName <%= domain %>
    DocumentRoot <%= public_path %>

    # Passenger configuration
    <IfModule mod_passenger.c>
        PassengerRoot /usr/lib/ruby/vendor_ruby/phusion_passenger/locations.ini
        PassengerDefaultRuby /usr/bin/ruby
        PassengerAppEnv production
    </IfModule>

    # Static assets
    <Directory <%= public_path %>>
        Require all granted
        Options -MultiViews

        # Enable compression
        SetOutputFilter DEFLATE

        # Cache control
        <FilesMatch "\.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$">
            ExpiresActive On
            ExpiresDefault "access plus 1 year"
        </FilesMatch>
    </Directory>

    # Logging
    ErrorLog <%= log_path %>/apache_error.log
    CustomLog <%= log_path %>/apache_access.log combined
</VirtualHost>